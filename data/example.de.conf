/*
 *
 * (C) 2004-2006 Denora Team
 * (C) 2005 MaOaM (MaOaM@gmx.org)
 * Contact us at info@nomadirc.net
 *
 *
 * Beispiel-Konfigurations-Datei für Denora. 
 * Nachdem die entsprechenden Änderungen vorgenommen wurden diese Datei in das 
 * Denora Daten Verzeichnis (wie im "Config" Skript angegeben, 
 * standardgemäß /usr/local/lib/denora) kopieren 
 * und unter "denora.conf" speichern.
 *
 * Das Kofigurations-Format besteht aus Blöcken, jeder enthält name-value
 * pairs, tags, oder string-daten.
 * Es wurde auf leichte Lesbarkeit ausgelegt, für Benutzer sowie für Denora.
 *
 * Ein Block besteht aus Block-Name, einer Einleitenden '{' Klammer, Angaben,
 * einer Abschließenden '}' Klammer und einem ';' Semikolon.
 * Eine Angabe besteht aus Name, möglicherweise gefolgt von einem Wert 
 * und endet mit einem Semikolon.
 * Strings die aus Sonderzeichen oder WhiteSpace können mit '"' 
 * Anführungszeichen (oben) eingeklammert werden.
 * Alle Elemente der Konfiguration werden durch WhiteSpace getrennt
 * und können über eine oder mehrere Zeilen verteilt sein.
 * WhiteSpace = Leerzeichen(blank), Tabulatoren, Zeilenumbrüche,.. 
 *
 * $Id: example.de.conf 708 2006-09-15 18:30:20Z trystan $
 * Deutsche Übersetzung von example.conf
 */

 # Kommentare werden in drei Formen unterstützt:
    /* C Style
       mehrere Zeilen*/
    # Shell Style eine Zeile
    // C++ Style eine Zeile

/*
 * Ein Beispiel-Block
 *
 *    block {
 *        name value;            # Angabe mit einem "Namen-Wert".
 *        name 123;              # Angabe mit einem "Zahl-Wert".    
 *        name "Hallo Welt";     # Angabe mit einem "String-Wert".
 *        tag;                   # Ein einfacher "tag".
 *        "das ist ein string";  # Ein einfacher "String".
 *    };
 *
 * Der Parser versteht ebenfalls eine spezielle "include direktive" 
 * ausserhalb vom Block-Kontext:
 *
 *     include Pfad/zur/Datei.conf;
 *
 * Beschreibung für die jeweilige "direktive", es wird  
 * jeweils angezeigt in wie weit eine Option/Angabe benötigt ist.
 *
 * [REQUIRED]
 *    Zeigt an: wird benötigt.
 *    Ohne wird Denora NICHT starten.
 *
 * [RECOMMENDED]
 *    Zeigt an: ist empfohlen, kann aber ausgelassen werden, 
 *    jedoch kann dies zu unerwünschten Nebeneffekten führen.
 *
 * [OPTIONAL]
 *    Zeigt an: ist optional. Wenn NICHT angegeben 
 *    dann ist das Merkmal normalerweise deaktiviert.
 *    Wenn dies nicht der Fall sein sollte 
 *    bitte nähere Information der Dokumentation entnehmen.
 *
 * [DISCOURAGED]
 *    Zeigt an: kann, soweit aktiviert, zu unerwünschten 
 *    Nebeneffekten führen.
 *    
 * [DEPRECATED]
 *    Zeigt an: "directive" wird in zukunftigen Denora Versionen verschwinden.
 *    Entweder wird diese Funtion durch eine andere "directive" oder
 *    ins Hauptprogramm übernommen.
 *
 */

 ###########################################################################
 # Connect [REQUIRED]
 # 
 # Definiert Remote Server Hostname/Port zu dem die Stats verbinden sollen.
 #
 # Der Remote Hostname und Port kann in der "runtime" durch die 
 # -remote command-line option ausser Kraft gesetzt werden.
 # Das Passwort sollte NICHT in der "runtime" gesetzt werden.

 connect {
     // required tokens
     hostname    localhost;    # Remote Server Hostname
     port        7029;         # Remote Server Port
     passwd    "passwort";     # Passwort zum Versandt an anderen Server
     protocol  "unreal32";     # IRCd Protokol (siehe unten)    

     // optional token
     #bindhost    nirgends;    # IP von der verbunden wird
     #bindport    0;           # Port von dem verbunden wird
};

# Der Hostname kann entweder ein Standard Internet Hostname oder eine mit
# Punkten-, viergeteilte numerische Adresse (IP) sein (xxx.xxx.xxx.xxx).
# Der Port muss eine Zahl zwischen (inklusiv) 1 und 65535 sein.
# Das Passwort ist ein "String" und sollte der Übersichtlichkeit wegen 
# in Anführungszeichen " " stehen oder wenn es Leerzeichen enthält.
#
# "bind" definiert die Lokale Adresse an die sich "ge-bunden",
# bevor zum Remote Server "ver-bunden" wird. 
# Hilfreich bei Multi-Home-Hosts wie z.B. bei vServern.
# Wenn NICHT definiert wählt das Betriebssystem die Lokale Adresse.
# Wenn lediglich der Hostname definiert ist werden sich die Stats daran "binden"
# und das Betriebssystem den Lokalen Port wählen lassen.
#
# Wenn Du nicht weisst was das bedeutet oder kein Bedarf daran besteht,
# lass es einfach auskommentiert (vorangestellte "#")
# Diese Angaben können in der "runtime" durch die 
# -remote command-line option ausser Kraft gesetzt werden.
# Es darf nur EINEN Connect Block geben.
#
# IRCD Protokolle:
#
# Bahamut 1.4 und 1.8 : bahamut
# Ptlink              : ptlink
# Ratbox 2.0          : ratbox
# SolidIRCD           : solidircd
# Ultimate 2.8        : ultimate2
# Ultimate 3.0        : ultimate3
# Viagra              : viagra
# Hybrid 7.0          : hybrid
# Plexus 2            : plexus
# Plexus 3            : plexus3
# Rage IRCD 2.0       : rageircd
# Unreal 3.2          : unreal32
# Unreal 3.1          : unreal31
# ircu 2.10           : ircu
# inspircd 1.0        : inspircd
# ShadowIRCD          : shadowircd
# FreeQuest IRCd      : fqircd
# Asuka IRCu          : asuka
# Nefarious IRCu      : nefarious
# QuakeIRCD 2.0 Ruby  : quakeircd
# Sorcery IRCD 1.3.7  : sorcery
# IrcDreams IRCD      : ircdreams
# Liquid IRCD 1.0.4   : liquidircd
# NeoIRCD 0.95        : neoircd
# DreamForge 4.6.7    : dreamforge
# Hyperion/DancerIRCD : hyperion
# MusIRCD 2.0.x       : musircd
# Beware 1.5.x IRCD   : beware
# ngIRCD 0.9.1 IRCD   : ngircd
#
###########################################################################

###########################################################################
# Identity [REQUIRED]
# Stats Identitäts Information.
# "name" definiert den Namen des IRC-Server den Denora benutzen soll.
# Kann durch die -name command-line option ausser Kraft gesetzt werden.
#
# "desc" definiert den Text der als Server-Information erscheinen soll.
# (Bei /whois und ähnlichen Queries)
# Kann durch die -desc command-line option ausser Kraft gesetzt werden.
#
# "user" definiert user@host welche von Stats Pseudoklienten benutzt wird.
# Kann durch die -user und -host command-line options 
# ausser Kraft gesetzt werden.

identity {
    // required tokens
    name        "stats.localhost.net";           # Stats Server-Name
    desc        "Statistik für IRC Netzwerke";   # Stats Server-Beschreibung
    user        "stats@localhost.net";           # Stats Pseudo-UserName
    language    1;                               # Vorgabe für die Sprache 
};

# Der "language Token" definiert die Vorgabe für die Sprache.
#
# Derzeit unterstützte Sprachen:
# 1.- Englisch
# 2.- Spanisch
# 3.- Deutsch
# 4.- Französisch
# 5.- Holländisch
# 6.- Italienisch
# 
# Wenn Du jemals wissen wolltest wie Du Denora in Deine Sprachen übersetzt,
# dann bitte das Kapitel darüber in der README/LIESMICH lesen.
# 
# Es darf nur EINEN Identity Block geben.
###########################################################################

###########################################################################
# StatServ [REQUIRED]
# Definiert Nickname und "Real" Name für den Stats Pseudoklient.

statserv {
    // required tokens
    nick        "StatServ";                   # Nickname
    real        "Stats Server";               # Real Name

    // optional tokens
    #aliasnick   "StatServ2";                 # Optionaler alias Nick
    #aliasreal   "Stats Server Forwarder";    # Optionaler alias Real Name
    #autoop;                                  # Autoop Option für die pseudo clients 
    #automode "+ov";                          # Modes für die autoop Option
};

# Ein alternativer Nickname kann optional angegeben werden. Wenn ein User
# /msg aliasnick irgendwas eingibt, wird es weitergeleitet 
# und der im StatServ Block angegebene Nick wird antworten.
# Hiermit wird es Usern von anderen Netzen erleichtert sich 
# zurecht zu finden, wenn Deine Stats z.B. "StatsManager" heissen 
# und auf anderen Netzwerken "StatsServ".
# Wenn du willst daß StatServ automatisch den +o Mode auf Channels bekommt, schalte den autoop Parameter ein.
# Es darf nur EINEN StatsServ Block geben.
###########################################################################

###########################################################################
# Filenames [REQUIRED]
# NOTE: Alle "filenames" sind auf die Stats "data directory" bezogen.

filenames {
    // required tokens
    pid         stats.pid;                   # Datei enthält die Process ID.
    motd        stats.motd;                  # Name der Message of the Day Datei (MOTD).
    htmlfile    "/home/denora/denora.html";  # Name und Pfad der HTML Datei.
    channeldb   chan.db;
    ctcpdb      ctcp.db;
    serverdb    server.db;
    chanstatsdb ChannelStats.db;
    tlddb       tld.db;
    excludedb   exclude.db;
    statsdb     stats.db;
    admindb     admin.db;
};
# Es darf nur EINEN Filenames Block geben.
###########################################################################

###########################################################################
# Backup [RECOMMENDED]
# Einstellungen für DB backups

backup {
    // required tokens
    keepbackups;            # Schaltet "backup" ein 
    freq         1d;        # Die Zeit zwieschen den backups 
    keepfor      7d;        # Wie lange ein backup behalten werden soll 

};

###########################################################################

###########################################################################
# Netinfo [REQUIRED]

netinfo {
    // required tokens
    name        "LocalNet";               # Name des Netzwerks auf dem Denora läuft.

    // optional tokens
    #numeric     "22";                    # numeric ID (siehe unten) 
    #nickchar    "ger";                   # siehe Unreal Dokumentation.
    #ctcpusers;                           # ctcp Version der User bekommen.
    #ctcpeob;                             # User bekommen ein ctcp Version nur wenn sie sich verbunden haben, nachdem der Server 
                                          # das End of burst gesendet hat. Benötigt die ctcpusers Option.
    #largenet;                            # Große Netzwerke von 100,000+ oder bei Nutzung 
                                          # von "remote sql tables"
    #sphtml;                              # versteckt +s/+p Channels in den HTML Stats
    #excludeserv "services.deinnetz.net"; # schliesst alle User von diesem Server aus
    #statspage "http://www.deinnetz.net/stats.html"; # URL für die Web Stats
};

#  Viele iRCD identifizieren sich selber anhand der "numeric ID".
#  Bei Benutzung bitte in Deiner iRCD Dokumentation nachschlagen. 
#
#  Der "largnet token" deaktiviert: chanstats, host lookup, tld, ctcpusers
#  statserv alias, motd, server bans, channel bans, server uptime und
#  server version. Nicht empfohlen für Netze die Infos haben möchten.
#  Es ist für Leute gemacht die "remote sql tables" nutzen weil es die
#  Abfragezeit verkürzt.
# Es darf nur EINEN Netinfo Block geben.
###########################################################################

###########################################################################
# Timeout [REQUIRED]
#

timeout {
    // required tokens
    read        5s;        # Intervall um vom Netzwerk zu lesen.
    warning     4h;        # Intervall der Meldungen über Programm-Fehler.
    update      2m;        # Intervall für Speicherung der Langzeitdaten. 
    htmlupdate  2m;        # Intervall zwischen HTML-Export.
    pingfreq    2m;        # Intervall für Ping-to-Server (Verzögerungs-Check)
    uptimefreq  1d;        # Intervall für "Server-Uptime-Check"
    sqlfreq     5m;        # Intervall zum Check ob der SQL-Server aktiv ist.    
    clearinactive 30d;     # Intervall zur Löschung von inaktiven Nicks aus der db.
    clearchaninactive 30d; # Intervall zur Löschung von inaktiven Channels aus der db.

    /* Der Zeitraum, den User im "user table" bleiben.
       Weil User kommen und gehen, wenige hat man für "immer",
       scheinen 2 Tage angemessen.
    */
    usercache   2d;
    userfreq    10s;   #  Überprüft nach überholten User-Daten *(in Sekunden)

    /* Der Zeitraum, den Server im "server table" bleiben.
       Da "Servers Splits" selten sind, bleiben sie für eine Woche.
    */
    servercache 7d;
    serverfreq  5s;    #  Überprüft nach überholten Server-Daten *(in Sekunden) 

};

# Der "warning token" definiert den Zeitraum zwischen dem Versandt von Meldungen
# über Programmfehler via WALLOPS/GLOBOPS.
#
# *Sollte nicht höher als auf 10 Sekunden angesetzt werden.
# Am besten sekündlich, vorausgesetzt das System ist stark
# oder das Netzwerk klein genug es zu verarbeiten.
# Einstellung auf 0 veranlasst die "timeout list" in einer 
# "Endlosschleife" zu checken. Das wird die Stats wahrscheinlich
# derart verlangsamen dass es für die meissten Netze keinen Nutzen bringt.
#
# NOTIZ: Dieser Wert ist keine völlige Begrenzung vom Intervall der "timeout list".
# Die Zeitspanne kann während Inaktivität so hoch sein wie der "read token".
# Es kann nur EINEN Timeout Block geben.
###########################################################################

###########################################################################
# Options [OPTIONAL]
# Im "Options Block" werden verschiedene Optionen für Denora an sich konfiguriert.
# Dieser Block wird empfohlen.

options {
    // recommended tokens
    keeplogs    7;             # Anzahl der Tage die die Logs gespeichert bleiben.

    // optional tokens
    #logchan     "#denora";    # Channel für Log-Ausgabe von Denora.
    #dumpcore;                 # Abbild bei Speicherfehlern (dump core).
    #hidestatso;               # Stats "o" nur für IRC Operatoren sichtbar.
    #tokens;                   # IRC Netzwerk gestatten TOKEN Kommandos zu nutzen.
    #ts6;                      # TS6 Code auf IRCd welches es nutzt.
    #chanstatsdef "off";       # Vorgabe für ChanStats Fantasy-Befehle
                               # off = default
                               # on  = aktiviert Antwort via Message (/msg)
                               # notice = aktiviert Antwort via Notice
    #smiley " :) ;) :-) ;-) ^_^ :-D :D :-P :P =) ;D :p "; #Default smileys die von Chanstats benutzt werden
    #hideuline;                # Versteckt Ulined Server von den Hmtl und Xml Dateien
    #nologs;                   # nur aktivieren falls Log Files NICHT erwünscht sind
    #trigger "!";              # Symbol daß für die Chanstats Befehle verwendet wird
	#jupemaster "services.your.net"  #name of the server whom issues JUPE so leafs can be ignored
};

# Der "keeplogs token" gibt an für wieviel Tage die Logs gespeichert bleiben. 
# Wenn NICHT definiert oder bei Angabe von "0" 
# werden die Logs unbegrenzt gespeichert.
# NOTE: Für dieses Merkmal muss Denora 24 Std./Tag laufen.
#
# Sobald ein LogChannel definiert ist wird Denora dort sämtliche 
# "Log-Nachrichten" ausgeben.
# WICHTIG: Es kann ein Sicherheitsrisiko darstellen wenn dieser Channel
# für jeden zugänglich ist.
#
# Der "dumpcore token" veranlasst Denora bei einem Speicherzugriffsfehler
# ein Abbild des Speichers in einer Datei anzulegen.
# Generell wird wird diese Funktion nicht benötigt.
# Sollte Denora abstürzen und ein Fehlerbericht (BugReport) erstellt werden
# kann ein solches Speicherabbild jedoch von grossem Vorteil sein.
#
# Der "tokens" Token ermöglicht IRC Netzwerken den Gebrauch von TOKEN anstatt 
# Standard Kommandos. Spart Bandbreite.
# Es kann nur EINEN Options Block geben.
###########################################################################

###########################################################################
# Admin [SUGGESTED]

admin {
    // required tokens
    name        DrStein;      # Admin username (Benutzername)
    passwd      superpass;    # Admin password (Passwort)
    hostname    *@*;          # Admin hostmask (Hostmaske)

    // optional tokens
    language    2;            # Admin language (Sprache)
};

admin {
    // required tokens
    name        Trystan;
    passwd      superpass;
    hostname    *@*;

    // optional tokens
    language    1;
};

# Es kann MEHRERE Admin Blöcke geben.
###########################################################################

###########################################################################
# SQL [OPTIONAL]
# SQL Konfiguration für Denora.
# Um SQL zu nutzen diese "token" und Einstellungen entsprechend anpassen.
#
# NOTIZ: Denora unterstützt MySQL. Zukünftige Versionen könnten andere
#        SQL-Technologien unterstützen.

sql {
    // required tokens
    type        mysql;               # SQL Server Typ. (siehe oben)
    host        localhost;           # SQL Server Hostname.
    user        anonymous;           # SQL Benutzer.
    passwd      password;            # SQL Passwort welches für den angegebenen
                                     # Benutzer zur Anmeldung benötigt wird.
    name      denora;                # SQL Name der Datenbank die Denora nutzt.

    // optional tokens
    #sock        /tmp/mysql.sock;    # MySQL UNIX Socket
    #port        3306;               # MySQL TCP Port
    #retries     10;
    #retrygap    10;
    #retryonlost 0;                    # Versuch sich zu den SQL Server  neu zu verbienden wenn 
                                     # die Verbiendung abgebrochen ist
    #disableopt;                     # Mit vorsicht benutzen! Nur dann, wenn es probleme
                                     # mit den mysql und zlib Funktionen gibt

    # Diese Einstellungen sind nicht empfohlen und sollen nur dann benutzt werden
    # wenn du weißt was du tust und die potenziellen Probleme in kauf nimmst.
    # Es ist SEHR Empfehlenswert, falls du diese Einstellungen benutzt, auch die usercache und servercache zu aktivieren.
    #keepusers;                      # User Tabelle beim Start nicht lehren
    #keepservers;                    # Server Tabelle beim Start nicht lehren

};

# Der "retries" und der "retrygap" Token definieren Anzahl und Abstand von
# Verbindungsversuchen zur MySQL-Datenbank nachdem die Verbindung abgebrochen ist.
# Die Summe der Werte muss zwischen 1 and 60 liegen.
#
# Bitte docs/MYSQL lesen.
# Es kann nur EINEN SQL Block geben.
###########################################################################

###########################################################################
# Tables [REQUIRED]

tables {
    // required tokens
    users       user;          # Name vom Users Table
    chanbans    chanbans;      # Name vom Channel Bans Table
    chanexcept  chanexcept;    # Name vom Channel Exceptions Table
    ison        ison;          # Name vom ISON Table
    server      server;        # Name vom Servers Table
    gline       glines;        # Name vom Glines Table
    chan        chan;          # Name vom Channel Table
    maxvalue    maxvalues;     # Name vom Maxvalues Table
    chaninvite  chaninvites;   # Name vom Channel Invites Table
    tld         tld;           # Name vom TLD Table
    ctcp        ctcp;          # Name vom CTCP Table
    sqline      sqline;        # Name vom SQLine Table (benötigt auf Bahamut-basierten IRCds)
    sgline      sgline;        # Name vom SGLine Table (benötigt auf Bahamut-basierten IRCds)
    csaliases    aliases;      # Name vom Chan Stats Aliases Table
    cscstats    cstats;        # Name vom Chan Stats Channel Table (cstats)
    csustats    ustats;        # Name vom Chan Stats User Table (ustats)
    stats       stats;         # Name vom Hourly stats Table (stündlich)
    spamfilter  spamfilters;   # Name vom Spam Filter Table (benötigt für Unreal IRCds)
    current     current;       # Name vom Table welcher die aktuelle Info beinhaltet.
    chanstats   channelstats;  # Name vom Channel Stats ( Stündlich )
    servstats   serverstats;   # Name vom Server Stats ( Stündlich )
};

# Es kann nur EINEN Tables Block geben.
###########################################################################

###########################################################################
# Modules [OPTIONAL]
#
# Wenn mit Modulunterstützung (module support) kompiliert wurde,
# beinhaltet der "autoload token" Modul(e) die so schnell wie möglich 
# automatisch geladen werden (on startup).
#
# Der "delayed token" beinhaltet Modul(e) die automatisch geladen werden wenn 
# Stats mit dem IRCd verbunden ist und bereit für neue Klienten (clients) ist.
# Es können bis zu 128 "delayed tokens" angegeben werden.

modules {
    // optional tokens
    #autoload   ss_uptime;           # Modul welches beim Start geladen wird.
    #autoload   next_module;         # Name vom nächsten Modul.
    #delayed    irc_delay_example;   # Modul welches geladen wird wenn Stats
                                     # bereits zum IRCd verbunden ist.
};

# Es können bis zu 128 "delayed tokens" angegeben werden.
# Bitte docs/MODULES Datei lesen.
# Es kann nur EINEN Modules Block geben.
###########################################################################

###########################################################################
# XML RPC [OPTIONAL]
#
# XML RPC ist ein leichtgewichtiger Server/Parser der es erlaubt XMLRPC
# Daten an Denora zu schicken und Daten im XMLRPC Standard zurück zu bekommen.
#

xmlrpc {

    #xmlrpc_enable                   # Diese Option muss AN sein wenn du XMLRPC benutzen willst
    #xmlrpc_host 127.0.0.1;          # Die IP an der XMLRPC auf Verbindungen wartet
    #xmlrpc_port 8080;               # Port an dem  XMLRPC auf Verbindungen wartet
    #xmlrpc_accept 127.0.0.1;        # Daten werden nur von diese Host akzeptiert
    #xmlrpc_accept 192.168.0.1;      # Daten werden nur von diese Host akzeptiert
};

# Es können bis zu 128 Client Host Adressen geben
# Bitte die docs/XMLRPC Datei lesen für mehr Infos
###########################################################################

